<!--<!DOCTYPE html>-->
<!--<%@ Page Language="C#" %>-->
<!--    <%@ Register tagprefix="SharePoint" namespace="Microsoft.SharePoint.WebControls" assembly="Microsoft.SharePoint, -->
<!--	Version=15.0.0.0, Culture=neutral, -->
<!--	PublicKeyToken=71e9bce111e9429c" %>-->
<html>

<head>
	<meta name="WebPartPageExpansion" content="full" />
	<meta charset="utf-8">
	<meta http-equiv="Content-type" content="text/html; charset=utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta content="width=device-width, initial-scale=1" name="viewport">	

	<title>Center for Oceans Dashboard</title>

	<!-- Bootstrap Core CSS -->
	<link rel="stylesheet" type="text/css" href="../SiteAssets/bootstrap/css/bootstrap.min.css" />

	<!-- DC Core CSS -->
	<link rel="stylesheet" type="text/css" href="../SiteAssets/css/dc.css" />

	<!-- Keen CSS -->
	<link rel="stylesheet" type="text/css" href="../SiteAssets/css/keen-dashboards.css" />

	<!-- CI CSS -->
	<link rel="stylesheet" type="text/css" href="../SiteAssets/css/mq.css" />

	<!-- CI Header CSS -->
	<link rel="stylesheet" type="text/css" href="../SiteAssets/css/customHeaderGlobal.css" />

	<!-- Custom CSS -->
	<link rel="stylesheet" type="text/css" href="../SiteAssets/css/custom.css" />

	<style type="text/css">
		svg,
		.col-xs-3,
		.col-xs-6,
		.col-xs-12 {
			/*border: solid 1px;*/
		}
		
		#chart-ring-status svg {
			margin-left: 85px;
		}
		
		.dc-chart .selected path {
			stroke-width: 2;
		}
		
		#data-table tr td:nth-child(1),
		#data-table tr th:nth-child(1),
		#data-table tr td:nth-child(n+11),
		#data-table tr th:nth-child(n+11)
		{
			display: none;
		}
		
	.glyphicon-envelope:before {
	    font-family: 'Glyphicons Halflings'; /* bootstrap glyphs override for CI icons */
	}		
	</style>
</head>

<body class="with-desktop-header dashboard">
	<!-- SharePoint security validation aspx controls -->
	<!-- https://msdn.microsoft.com/en-us/library/office/ms472879%28v=office.14%29.aspx -->
	<form id="Form1" method="post" runat="server">
		<!--<SharePoint:FormDigest ID="FormDigest1" runat="server"></SharePoint:FormDigest>-->
		
		<header role="banner" class="introCopy global-header--desktop js-global-header--desktop">
			<div class="header-row bg-dark contain">
				<ul class="secondary-nav">
					<li class="secondary-nav__social"><a class="icon-facebook" href="https://www.facebook.com/conservation.intl"><span class="screen-reader">Facebook</span></a></li>
					<li class="secondary-nav__social"><a class="icon-twitter" href="https://twitter.com/conservationorg"><span class="screen-reader">Twitter</span></a></li>
					<li class="secondary-nav__social"><a class="icon-youtube" href="http://www.youtube.com/user/ConservationDotOrg"><span class="screen-reader">YouTube</span></a></li>
					<li class="secondary-nav__social"><a class="icon-instagram" href="http://instagram.com/conservationorg"><span class="screen-reader">Instagram</span></a></li>
					<li class="secondary-nav__text"><a href="http://blog.conservation.org/">Blog</a></li>
				</ul>
			</div>
			<div class="header-row contain">
				<h1>
					<a href="http://www.conservation.org/">
						<span class="logomark">Conservation International</span>
					</a>
				</h1>
				<ul class="primary-nav">
					<li class="text-uppercase">
						<a href="index.html">Center for Oceans<br/>
							<!--<span class="text-lowercase bodyCopy"> Return to homepage</span>-->
						</a>
					</li>
					<li class="text-uppercase">
						<a href="form.html">New Grant Form<br/>
							<!--<span class="text-lowercase bodyCopy"> Submit new grant or gift opportunity</span>-->
						</a>
					</li>
					<li class="text-uppercase">
						<a href="#">Shortfall<br/>
							<!--<span class="text-lowercase bodyCopy"> View the status of the current year's shortfall</span>-->
						</a>
					</li>
					<li class="text-uppercase active">
						<a href="dashboardDC.html">Fiscal Year Dashboard<br/>
							<!--<span class="text-lowercase bodyCopy"> View the accrual-based dashboard by fiscal year</span>-->
						</a>
					</li>
					<li class="text-uppercase">
						<a href="#">Projections<br/>
							<!--<span class="text-lowercase bodyCopy"> View revenue projections for the next five fiscal years</span>-->
						</a>
					</li>
					<li class="text-uppercase hidden">
						<a href="https://conservation.sharepoint.com/teams/units/mcso/fundraising-dashboard/_layouts/15/viewlsts.aspx">Site Contents<br/>
							<!--<span class="text-lowercase bodyCopy"> Read, edit, and update dashboard data through Site Contents</span>-->
						</a>
					</li>
				</ul>
			</div>
		</header>
	
		<div class="container-fluid">
			<div class="row">
				<!-- main page content -->
				<div class="col-sm-12 main">
					
					<!-- page header -->
					<div class="row title1">
						<div class="col-sm-12 col-md-12">
							<div class="chart-wrapper"  style="padding-top:25px">
								<div class="chart-stage">
									<span>Fiscal Year Dashboard</span>
									<div class="row introCopy">
										<div class="col-sm-8 col-md-8">
										</div>
										<!-- /.col-sm-6 col-md-6 -->
										<div class="col-sm-4 col-md-4">
											<div class="dc-chart pull-right">
												<h3 id="dateHeader"></h3>
											</div>
										</div>
										<!-- /.col-sm-6 col-md-6 -->
									</div>
									<!-- /.row -->
								</div>
							</div>
						</div>
					</div>
					
					<!-- numerical displays -->
					<div class="row introCopy">
						<div class="col-sm-12 col-md-12">
							<div class="chart-wrapper">
								<div class="chart-title">
									<div class="row">
										<div class="col-sm-8 col-md-10">
											<h3 class="text-uppercase">Pipeline Overview</h3>
										</div>
										<div class="col-sm-4 col-md-2">
	                                        <h5 class="text-uppercase">Fiscal Year</h5>
    	                                    <div id="fiscalYear"></div>
										</div>
									</div>
								</div>
								<div class="chart-stage">
									<div class="row">
										<div class="col-sm-6 col-md-6">
											<div class="chart-title">
												<span class="text-uppercase">Pipeline Amounts ($)</span>
											</div>
											<div class="chart-stage">
												<div class="row">
													<div class="col-sm-6 col-md-6">
														<div><span class="text-uppercase">Total</span></div>
														<div><div class="dc-data-count" id="total-commitments"></div></div>
													</div>
													<div class="col-sm-3 col-md-3">
														<div><span>To Field Sites</span></div>
														<div><div class="dc-data-count" id="field-commitments"></div></div>
													</div>
													<div class="col-sm-3 col-md-3">
														<div><span>To Program</span></div>
														<div><div class="dc-data-count" id="program-commitments"></div></div>
													</div>
												</div>
											</div>
										</div>
										<div class="col-sm-5 col-md-5">
											<div class="chart-title">
												<span class="text-uppercase">Pipeline Number</span>
											</div>
											<div class="chart-stage">
												<div  id="data-count" class="row" style="float:none">
													<div class="col-sm-6 col-md-6">
														<div>
															<span class="text-uppercase">Selected</span>
														</div>
														<div class="dc-data-count">
															<span class="number-display filter-count"></span>
														</div>
													</div>
													<div class="col-sm-6 col-md-6">
														<div>
															<span>Out of</span>
														</div>
														<div class="dc-data-count">
															<span class="number-display total-count"></span>
														</div>
													</div>
												</div>
													
											</div>
										</div>
										<div class="col-sm-1 col-md-1">
											<div><span><a href='javascript:dc.filterAll();dc.redrawAll();'><font class="text-uppercase" color="#3182bd">Reset All</font></a></span></div>
										</div>
									</div>
									<!-- /.row -->
								</div>
								<!-- /.chart-stage -->
							</div>
							<!-- /.chart-wrapper -->
						</div>
						<!-- /.col-sm-12 col-md-12 -->
					</div>
					<!-- /.row -->
	
					<!-- row chart -->
					<div class="row introCopy">
						<div class="col-sm-8 col-md-8">
							<div class="chart-wrapper">
								<div class="chart-title">
									<h3>By Program</h3>
								</div>
								<div class="chart-stage">
									<div id="chart-amount-row" class="dc-chart">
										<div>selected: <span class="filter"></span>
											<a class="reset" href="javascript:programRowChart.filterAll();dc.redrawAll();" style="display:none;">reset</a>
										</div>
									</div>
									<!-- #chart-amount-row -->
								</div>
								<div class="chart-notes">
									<span>Shows the total per program amount and count of potential commitments in the pipeline.</span>
								</div>
							</div>
						</div>
						<!-- /.col-sm-8 col-md-8 -->
						<div class="col-sm-4 col-md-4">
							<div class="chart-wrapper">
								<div class="chart-title">
									<h3>By Status</h3>
								</div>
								<div class="chart-stage">
									<div id="chart-ring-status" class="dc-chart">
										<div>selected: <span class="filter"></span>
											<a class="reset" href="javascript:statusRingChart.filterAll();dc.redrawAll();" style="display:none;">reset</a>
										</div>
									</div>
									<!-- #chart-ring-status -->
								</div>
								<div class="chart-notes">
									<span>Shows the proportion of potential commitments by status</span>
								</div>
							</div>
						</div>
						<!-- /.col-sm-4 col-md-4 -->
	
					</div>
					<!-- /.row -->
	
					<!-- bar and ring charts -->
					<div class="row introCopy">
						<div class="col-sm-6 col-md-6">
							<div class="chart-wrapper">
								<div class="chart-title">
									<h3>By Donor Type</h3>
								</div>
								<div class="chart-stage">
									<div id="chart-bar-donor" class="dc-chart">
										<div>selected: <span class="filter"></span>
											<a class="reset" href="javascript:donorBarChart.filterAll();dc.redrawAll();" style="display:none;">reset</a>
										</div>
									</div>
									<!-- #chart-bar-donor -->
								</div>
								<div class="chart-notes">
									<span>Shows selected pipeline amounts by program and donor type</span>
								</div>
							</div>
						</div>
						<!-- /.col-sm-6 col-md-6 -->
						<div class="col-sm-6 col-md-6">
							<div class="chart-wrapper">
								<div class="chart-title">
									<h3>By Site</h3>
								</div>
								<div class="chart-stage">
									<div id="chart-bar-commit" class="dc-chart">
										<div>selected: <span class="filter"></span>
											<a class="reset" href="javascript:commitBarChart.filterAll();dc.redrawAll();" style="display:none;">reset</a>
										</div>
									</div>
									<!-- #chart-bar-commit -->
	
								</div>
								<div class="chart-notes">
									<span>Shows selected pipeline amounts by program and whether it goes to the field site or to the program</span>
								</div>
							</div>
						</div>
						<!-- /.col-sm-6 col-md-6 -->
					</div>
					<!-- /.row -->
	
					<!-- table -->
					<div class="row introCopy">
						<div class="col-sm-12 col-md-12">
							<div class="chart-wrapper">
								<div class="chart-title">
									<h3>Source Data</h3>
								</div>
								<div class="chart-stage">
									<table class="table" id="data-table"></table>
								</div>
								<div class="chart-notes">
									<span>Table containing pipeline data</span>
								</div>
							</div>
						</div>
						<!--/.col-sm-12 col-md-12 -->
					</div>
					<!--/.row -->
	
				</div>
				<!-- /.main -->
			</div>
			<!-- /.row -->
		</div>
		<!-- /.container-fluid -->
		
		<!-- Item Modal -->
		<div class="modal fade introCopy" id="grantsModal" tabindex="-1" role="dialog" aria-labelledby="grantsModalLabel" aria-hidden="true">
			<div class="modal-dialog modal-lg" role="document">
				<div class="modal-content">
					<div class="modal-header">
						<button type="button" class="close" data-dismiss="modal" aria-label="Close">
							<span aria-hidden="true">&times;</span>
						</button>
						<div class="row">
							<div class="col-md-12">
								<h4 class="modal-title" id="grantsModalLabel">Commitment Details</h4>
							</div>
						</div>
						<!-- /.row -->
					</div>
					<!-- /.modal-header -->
					<div class="modal-body">
						<span class="pull-right">
							<p> Compose Email 
								<!-- move onclick to javascript file -->
								<a type="button" onclick="toggleComposition()" class="btn btn-default">
									<span class="glyphicon glyphicon-envelope" aria-hidden="true"></span>
								</a>
							</p>
						</span>
						<div class="row">
							<div class="col-md-12">
								<div id="emailComposition" class="form-group hidden">
									<!-- move onfocus to javascript file -->
									<input id="emailRecipient" type="button" value="Get User Info" onfocus="getUserInfo()"></input>
									<input class="form-control" type="text" placeholder="To"/>
									<input id="emailSubject" class="form-control" type="text" placeholder="Subject"/>
									<textarea id="emailText" class="form-control" rows="4" placeholder="Message text . . ."></textarea>
									<!-- move onclick to javascript file -->
									<a id="sendClick" type="button" onclick="sendMail()" class="btn btn-danger btn-sm" data-dismiss="modal">
										<i class="fa fa-envelope-o" style="padding-right: 5px;"></i> Send 
									</a>
								</div>
								<!-- #emailComposition -->
							</div>
							<!-- /.col-md-12 -->
						</div>
						<!-- /.row -->
					</div>
					<!-- /.modal-body -->
					<div class="modal-footer"></div>
					<!-- /.modal-footer -->
				</div>
				<!-- /.modal-content -->
			</div>
			<!-- /.modal-dialog -->
		</div>
		<!-- /.modal -->
	</form>
	<!-- #Form1 -->

	<!-- SharePoint Core JavaScript -->
	<!--<script type="text/javascript" src="/_layouts/15/MicrosoftAjax.js"></script>-->
	<!--<script type="text/javascript" src="/_layouts/1033/init.js"></script>-->
	<!--<script type="text/javascript" src="/_layouts/15/sp.core.js"></script>-->
	<!--<script type="text/javascript" src="/_layouts/15/sp.runtime.js"></script>-->
	<!--<script type="text/javascript" src="/_layouts/15/sp.js"></script>-->

	<!-- SharePoint PeoplePicker JavaScript -->
	<!--<script type="text/javascript" src="/_layouts/15/clienttemplates.js"></script>-->
	<!--<script type="text/javascript" src="/_layouts/15/clientforms.js"></script>-->
	<!--<script type="text/javascript" src="/_layouts/15/clientpeoplepicker.js"></script>-->
	<!--<script type="text/javascript" src="/_layouts/15/autofill.js"></script>-->

	<!-- jQuery -->
	<script type="text/javascript" src="../SiteAssets/jquery/jquery-1.12.1.min.js"></script>
	<!-- Bootstrap Core JavaScript -->
	<script type="text/javascript" src="../SiteAssets/bootstrap/js/bootstrap.min.js"></script>
	<!-- D3 Core JavaScript -->
	<script type="text/javascript" src="../SiteAssets/d3/d3.v3.min.js" charset="utf-8"></script>
	<!-- D3 Queue JavaScript -->
	<script type="text/javascript" src="../SiteAssets/d3/d3-queue.v2.min.js" charset="utf-8"></script>
	<!-- Crossfilter JavaScript -->
	<script type="text/javascript" src="../SiteAssets/crossfilter/crossfilter.min.js"></script>
	<!-- DC.js Core JavaScript -->
	<script type="text/javascript" src="../SiteAssets/dc/dc.min.js"></script>
	<!-- Moment Core JavaScript -->
	<script type="text/javascript" src="../SiteAssets/moment/moment.js"></script>
	<!-- SheetJS JavaScript -->
	<script type="text/javascript" src="../SiteAssets/sheetJS/xlsx.core.min.js"></script>
	<script type="text/javascript" src="../SiteAssets/sheetJS/Blob.js"></script>
	<script type="text/javascript" src="../SiteAssets/sheetJS/FileSaver.js"></script>
	<script type="text/javascript" src="../SiteAssets/sheetJS/Export2Excel.js"></script>	
	<!-- Custom JavaScript -->
	<script type="text/javascript" src="../SiteAssets/js/getUser.js"></script>
	<script type="text/javascript" src="../SiteAssets/js/createDashboardDC.js"></script>

</body>

</html>